apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - deployment.yaml
  - ingress.yaml

# Common labels applied to all resources
commonLabels:
  managed-by: kustomize
  project: demo-app

# Namespace to deploy to
namespace: demo-app

# Image tag transformation
images:
  - name: nginx
    newTag: latest

# ConfigMap generator (alternative to ConfigMap in deployment.yaml)
# configMapGenerator:
#   - name: app-config
#     literals:
#       - app_name=demo-app
#       - environment=dev

# Secret generator (alternative to Secret in deployment.yaml)
# secretGenerator:
#   - name: app-secrets
#     literals:
#       - db_password=changeme123
#       - api_key=super-secret-key

# Resource customization
replicas:
  - name: demo-app
    count: 2
